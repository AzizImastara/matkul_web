<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Form Registrasi</title>
    <style>
      .error {
        color: red;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h2>Form Registrasi</h2>
    <form id="registrationForm" onsubmit="return validateForm()">
      <label for="name">Nama:</label><br />
      <input type="text" id="name" name="name" /><span
        id="nameError"
        class="error"
      ></span
      ><br />

      <label for="username">Username:</label><br />
      <input type="text" id="username" name="username" /><span
        id="usernameError"
        class="error"
      ></span
      ><br />

      <label for="email">Email:</label><br />
      <input type="email" id="email" name="email" /><span
        id="emailError"
        class="error"
      ></span
      ><br />

      <label for="password">Password:</label><br />
      <input type="password" id="password" name="password" />
      <button type="button" onclick="togglePassword('password')">Show</button
      ><span id="passwordError" class="error"></span><br />

      <label for="confirmPassword">Konfirmasi Password:</label><br />
      <input type="password" id="confirmPassword" name="confirmPassword" />
      <button type="button" onclick="togglePassword('confirmPassword')">
        Show</button
      ><span id="confirmPasswordError" class="error"></span><br />

      <label for="phone">No Telepon:</label><br />
      <input type="tel" id="phone" name="phone" /><span
        id="phoneError"
        class="error"
      ></span
      ><br />

      <label for="gender">Jenis Kelamin:</label><br />
      <input type="radio" id="male" name="gender" value="male" />Laki-laki
      <input
        type="radio"
        id="female"
        name="gender"
        value="female"
      />Perempuan<span id="genderError" class="error"></span><br />

      <label for="website">Alamat Website:</label><br />
      <input type="url" id="website" name="website" /><span
        id="websiteError"
        class="error"
      ></span
      ><br /><br />

      <input type="checkbox" id="termsCheckbox" name="termsCheckbox" />
      <label for="termsCheckbox">Saya menyetujui syarat dan ketentuan</label
      ><br />

      <span id="termsCheckboxError" class="error"></span><br />

      <input type="submit" value="Submit" />
    </form>

    <script>
      function validateForm() {
        let name = document.getElementById("name").value;
        let username = document.getElementById("username").value;
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;
        let confirmPassword = document.getElementById("confirmPassword").value;
        let phone = document.getElementById("phone").value;
        let gender = document.querySelector('input[name="gender"]:checked');
        let website = document.getElementById("website").value;
        let termsCheckbox = document.getElementById("termsCheckbox").checked;

        let nameError = document.getElementById("nameError");
        let usernameError = document.getElementById("usernameError");
        let emailError = document.getElementById("emailError");
        let passwordError = document.getElementById("passwordError");
        let confirmPasswordError = document.getElementById(
          "confirmPasswordError"
        );
        let phoneError = document.getElementById("phoneError");
        let genderError = document.getElementById("genderError");
        let websiteError = document.getElementById("websiteError");
        let termsCheckboxError = document.getElementById("termsCheckboxError");

        let isValid = true;

        if (name == "") {
          nameError.textContent = " Nama harus diisi";
          isValid = false;
        } else {
          nameError.textContent = "";
        }

        if (username == "") {
          usernameError.textContent = " Username harus diisi";
          isValid = false;
        } else {
          usernameError.textContent = "";
        }

        if (email == "") {
          emailError.textContent = " Email harus diisi";
          isValid = false;
        } else if (!validateEmail(email)) {
          emailError.textContent = " Format email tidak valid";
          isValid = false;
        } else {
          emailError.textContent = "";
        }

        if (password == "") {
          passwordError.textContent = " Password harus diisi";
          isValid = false;
        } else {
          passwordError.textContent = "";
        }

        if (confirmPassword == "") {
          confirmPasswordError.textContent = " Konfirmasi password harus diisi";
          isValid = false;
        } else if (password !== confirmPassword) {
          confirmPasswordError.textContent = " Password tidak cocok";
          isValid = false;
        } else {
          confirmPasswordError.textContent = "";
        }

        if (phone == "") {
          phoneError.textContent = " Nomor telepon harus diisi";
          isValid = false;
        } else if (!validatePhone(phone)) {
          phoneError.textContent = " Nomor telepon harus berupa angka";
          isValid = false;
        } else {
          phoneError.textContent = "";
        }

        if (!gender) {
          genderError.textContent = " Jenis kelamin harus dipilih";
          isValid = false;
        } else {
          genderError.textContent = "";
        }

        if (website == "") {
          websiteError.textContent = " Alamat website harus diisi";
          isValid = false;
        } else if (!validateWebsite(website)) {
          websiteError.textContent = " Format alamat website tidak valid";
          isValid = false;
        } else {
          websiteError.textContent = "";
        }

        if (!termsCheckbox) {
          termsCheckboxError.textContent =
            " Anda harus menyetujui syarat dan ketentuan";
          isValid = false;
        } else {
          termsCheckboxError.textContent = "";
        }

        if (isValid) {
          alert("Registrasi berhasil!");
        }

        return isValid;
      }

      function validateEmail(email) {
        const re = /\S+@\S+\.\S+/;
        return re.test(email);
      }

      function togglePassword(inputId) {
        var x = document.getElementById(inputId);
        if (x.type === "password") {
          x.type = "text";
        } else {
          x.type = "password";
        }
      }

      function validatePhone(phone) {
        const re = /^\d+$/;
        return re.test(phone);
      }

      function validateWebsite(website) {
        const re =
          /^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-zA-Z0-9]+([-.][a-zA-Z0-9]+)*\.[a-zA-Z]{2,}(:[0-9]{1,5})?(\/.*)?$/;
        return re.test(website);
      }
    </script>
  </body>
</html>
